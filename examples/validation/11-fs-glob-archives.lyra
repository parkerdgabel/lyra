(*
  11-fs-glob-archives.lyra â€” Glob, Zip/Tar/Gzip create/extract
  Uses ./target/tmp for sandboxed files.
*)

tmp := "target/tmp/fs";
_ := Run["rm", "-rf", tmp];
_ := Run["mkdir", "-p", PathJoin[{tmp, "sub"}]];
WriteFile[PathJoin[{tmp, "a.txt"}], "A"];
WriteFile[PathJoin[{tmp, "sub", "b.log"}], "B"];

Glob[PathJoin[{tmp, "**", "*.txt"}]];   (* => list of .txt paths *)

zip := PathJoin[{tmp, "bundle.zip"}];
ZipCreate[zip, {PathJoin[{tmp, "a.txt"}], PathJoin[{tmp, "sub"}]}];
ZipExtract[zip, PathJoin[{tmp, "unz"}]]; (* contents extracted *)

tar := PathJoin[{tmp, "bundle.tar"}];
TarCreate[tar, {tmp}];
TarExtract[tar, PathJoin[{tmp, "untar"}]];

gz := PathJoin[{tmp, "a.txt.gz"}];
Gzip[PathJoin[{tmp, "a.txt"}], gz];
