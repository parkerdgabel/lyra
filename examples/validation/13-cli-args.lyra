(*
  13-cli-args.lyra â€” CLI ArgsParse and simple options
  Example: lyra-runner --file examples/validation/13-cli-args.lyra -- --name Ann --count 2
  Everything after -- is passed to the script as argv.
*)

args := ArgsParse[{"--name", "--count"}];
args;                                         (* show parsed assoc: <|Options->..., Flags->..., Rest->...|> *)

name := Lookup[Part[args, "Options"], "name"];  (* string or Null *)
name2 := If[name == Null, "World", name];
greet := (n_) => StringJoin[{"Hello, ", n, "!"}];
greet[name2];
